"use strict";angular.module("odoo",[]);
"use strict";angular.module("odoo").provider("jsonRpc",function(){this.odooRpc={uniq_id_counter:0,callBackDeadSession:function(){},callBackError:function(){}},this.$get=["$http","$cookies",function(e,s){var n=this.odooRpc;return n.sendRequest=function(o,t){var i=$.Deferred();t.session_id=s.session_id,n.uniq_id_counter+=1;var r={jsonrpc:"2.0",method:"call",params:t},a={method:"POST",url:o,data:JSON.stringify(r),headers:{"Content-Type":"application/json"},id:"r"+n.uniq_id_counter};return e(a).success(function(e){if(console.log("SUCCESS"),console.log(e),"undefined"!=typeof e.error){var n=e.error;300===n.code&&n.data&&("client_exception"==n.data.type&&n.data.debug.match("SessionExpiredException")?(s.session_id="",i.reject("session_expired")):(callBackError(n),i.reject(e.result)))}else i.resolve(e.result)}),i.promise()},n.login=function(e,o,t){var i={db:e,login:o,password:t};return n.sendRequest("/web/session/authenticate",i).done(function(e){s.session_id=e.session_id})},n.searchRead=function(e,s,o){var t={model:e,domain:s,fields:o};return n.sendRequest("/web/dataset/search_read",t)},n.call=function(e,s,o,t){var i={model:e,method:s,args:o,kwargs:t};return n.sendRequest("/web/dataset/call_kw",i)},n.get_session_info=function(){return n.sendRequest("/web/session/get_session_info",{})},n}]});
angular.module("odoo").run(["$templateCache",function(t){t.put("app/main/main.html",'<div class="container"><input type="text" ng-model="login"> <input type="text" ng-model="password"> <button ng-click="loginFn()">Login</button> <input type="text" ng-model="db"></div>')}]);