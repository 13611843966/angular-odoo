"use strict";angular.module("odoo",[]);
"use strict";angular.module("odoo").provider("jsonRpc",function(){this.odooRpc={uniq_id_counter:0,callBackDeadSession:function(){},callBackError:function(){}},this.$get=["$http","$cookies","$rootScope","$q",function(e,t,o,s){var n=this.odooRpc;return n.sendRequest=function(r,a){var i=s.defer();a.session_id=t.session_id,n.uniq_id_counter+=1;var d={jsonrpc:"2.0",method:"call",params:a},c={method:"POST",url:r,data:JSON.stringify(d),headers:{"Content-Type":"application/json"},id:"r"+n.uniq_id_counter};return e(c).success(function(s){if("undefined"!=typeof s.error){var n=s.error;if(300===n.code&&n.data&&"client_exception"==n.data.type&&n.data.debug.match("SessionExpiredException"))delete t.session_id,i.reject("session_expired");else{var r=(""+n.data.fault_code).split("\n")[0].split(" -- ");r.length>1&&(n.type=r.shift(),n.data.fault_code=n.data.fault_code.substr(n.type.length+4));var a=void 0,d=void 0;200===n.code&&n.type?(d=n.type,a=n.data.fault_code.replace(/\n/g,"<br />")):(d=n.message,a=n.data.debug.replace(/\n/g,"<br />")),o.modal({title:d,show:!0,content:a,html:!0}),i.reject({title:d,message:a,fullTrace:n})}}else{var c=s.result;"ir.actions.act_proxy"===c.type&&angular.forEach(c.action_list,function(t){var o={method:"POST",url:t.url,data:JSON.stringify(t.params),headers:{"Content-Type":"application/json"}};e(o)}),i.resolve(c)}}),i.promise},n.login=function(e,o,s){var r=$.Deferred(),a={db:e,login:o,password:s};return n.sendRequest("/web/session/authenticate",a).done(function(e){e.uid?(t.session_id=e.session_id,r.resolve(e)):r.reject(e)}).fail(function(){r.reject(error)}),r.promise()},n.searchRead=function(e,t,o){var s={model:e,domain:t,fields:o};return n.sendRequest("/web/dataset/search_read",s)},n.call=function(e,t,o,s){var r={model:e,method:t,args:o,kwargs:s};return n.sendRequest("/web/dataset/call_kw",r)},n.get_session_info=function(){return n.sendRequest("/web/session/get_session_info",{})},n}]});
angular.module("odoo").run(["$templateCache",function(t){t.put("app/main/main.html",'<div class="container"><input type="text" ng-model="login"> <input type="text" ng-model="password"> <button ng-click="loginFn()">Login</button> <input type="text" ng-model="db"></div>')}]);