"use strict";angular.module("odoo",[]);
"use strict";angular.module("odoo").provider("jsonRpc",function(){this.odooRpc={uniq_id_counter:0,callBackDeadSession:function(){},callBackError:function(){}},this.$get=["$http","$cookies","$rootScope",function(e,t,n){var o=this.odooRpc;return o.sendRequest=function(s,r){var a=$.Deferred();r.session_id=t.session_id,o.uniq_id_counter+=1;var i={jsonrpc:"2.0",method:"call",params:r},d={method:"POST",url:s,data:JSON.stringify(i),headers:{"Content-Type":"application/json"},id:"r"+o.uniq_id_counter};return e(d).success(function(o){if("undefined"!=typeof o.error){var s=o.error;if(300===s.code&&s.data&&"client_exception"==s.data.type&&s.data.debug.match("SessionExpiredException"))delete t.session_id,a.reject("session_expired");else{var r=(""+s.data.fault_code).split("\n")[0].split(" -- ");r.length>1&&(s.type=r.shift(),s.data.fault_code=s.data.fault_code.substr(s.type.length+4)),n.modal(200===s.code&&s.type?{title:s.type,show:!0,content:s.data.fault_code.replace(/\n/g,"<br />"),html:!0}:{title:s.message,content:s.data.debug.replace(/\n/g,"<br />"),show:!0,html:!0}),a.reject(s)}}else{var i=o.result;"ir.actions.act_proxy"===i.type&&angular.forEach(i.action_list,function(t){var n={method:"POST",url:t.url,data:JSON.stringify(t.params),headers:{"Content-Type":"application/json"}};e(n)}),a.resolve(i)}}),a.promise()},o.login=function(e,n,s){var r=$.Deferred(),a={db:e,login:n,password:s};return o.sendRequest("/web/session/authenticate",a).done(function(e){e.uid?(t.session_id=e.session_id,r.resolve(e)):r.reject(e)}).fail(function(){r.reject(error)}),r.promise()},o.searchRead=function(e,t,n){var s={model:e,domain:t,fields:n};return o.sendRequest("/web/dataset/search_read",s)},o.call=function(e,t,n,s){var r={model:e,method:t,args:n,kwargs:s};return o.sendRequest("/web/dataset/call_kw",r)},o.get_session_info=function(){return o.sendRequest("/web/session/get_session_info",{})},o}]});
angular.module("odoo").run(["$templateCache",function(t){t.put("app/main/main.html",'<div class="container"><input type="text" ng-model="login"> <input type="text" ng-model="password"> <button ng-click="loginFn()">Login</button> <input type="text" ng-model="db"></div>')}]);