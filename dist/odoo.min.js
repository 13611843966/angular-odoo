"use strict";angular.module("odoo",[]);
"use strict";angular.module("odoo").provider("jsonRpc",function(){this.odooRpc={uniq_id_counter:0,callBackDeadSession:function(){},callBackError:function(){}},this.$get=["$http","$cookies","$rootScope",function(e,t,n){var s=this.odooRpc;return s.sendRequest=function(o,a){var i=$.Deferred();a.session_id=t.session_id,s.uniq_id_counter+=1;var r={jsonrpc:"2.0",method:"call",params:a},d={method:"POST",url:o,data:JSON.stringify(r),headers:{"Content-Type":"application/json"},id:"r"+s.uniq_id_counter};return e(d).success(function(s){if("undefined"!=typeof s.error){var o=s.error;if(300===o.code&&o.data&&"client_exception"==o.data.type&&o.data.debug.match("SessionExpiredException"))t.session_id="",i.reject("session_expired");else{var a=(""+o.data.fault_code).split("\n")[0].split(" -- ");a.length>1&&(o.type=a.shift(),o.data.fault_code=o.data.fault_code.substr(o.type.length+4)),n.modal(200===o.code&&o.type?{title:o.type,show:!0,content:o.data.fault_code.replace(/\n/g,"<br />"),html:!0}:{title:o.message,content:o.data.debug.replace(/\n/g,"<br />"),show:!0,html:!0}),i.reject(o)}}else{var r=s.result;"ir.actions.act_proxy"===r.type&&angular.forEach(r.action_list,function(t){var n={method:"POST",url:t.url,data:JSON.stringify(t.params),headers:{"Content-Type":"application/json"}};e(n)}),i.resolve(r)}}),i.promise()},s.login=function(e,n,o){var a={db:e,login:n,password:o};return s.sendRequest("/web/session/authenticate",a).done(function(e){t.session_id=e.session_id})},s.searchRead=function(e,t,n){var o={model:e,domain:t,fields:n};return s.sendRequest("/web/dataset/search_read",o)},s.call=function(e,t,n,o){var a={model:e,method:t,args:n,kwargs:o};return s.sendRequest("/web/dataset/call_kw",a)},s.get_session_info=function(){return s.sendRequest("/web/session/get_session_info",{})},s}]});
angular.module("odoo").run(["$templateCache",function(t){t.put("app/main/main.html",'<div class="container"><input type="text" ng-model="login"> <input type="text" ng-model="password"> <button ng-click="loginFn()">Login</button> <input type="text" ng-model="db"></div>')}]);